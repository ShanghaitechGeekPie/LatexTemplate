\ProvidesPackage{style/ShanghaiTech-bachelor-thesis}

\usepackage{graphicx}
\usepackage[english]{babel}

\usepackage[nottoc]{tocbibind}
\usepackage{array}
\usepackage{placeins}
\usepackage{booktabs}
\usepackage{textcomp} % nice greek alphabet
\usepackage{pifont}   % Dingbats
\usepackage{physics}
\usepackage{float}
\usepackage{textpos}
\usepackage{xeCJK}
\usepackage{zhnumber}
\usepackage{makeidx} %for generating an index list at the end of the book

\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{1mm}

\usepackage[titles]{tocloft}
\renewcommand{\cftchapfont}{\sffamily\bfseries\selectfont}
\renewcommand{\cftchappagefont}{\sffamily\bfseries\selectfont}
\renewcommand{\cftpartfont}{\large\sffamily\bfseries\selectfont}
\renewcommand{\cftpartpagefont}{\sffamily\bfseries\selectfont}


%%HEADERS
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\uppercase{\markboth{#1}{#1}}}
\renewcommand{\sectionmark}[1]{\uppercase{\markright{#1}}}
\fancyhf{}
\fancyhead[RO]{\scriptsize\sf\rightmark\ \hrulefill\ \thepage}
\fancyhead[RE]{\scriptsize\sf\thepage\ \hrulefill\ \leftmark}
\renewcommand{\headrulewidth}{0pt}
\fancypagestyle{plain}{
\fancyhf{}
\fancyfoot[C]{\scriptsize\sf\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
}

%% CLEARDOUBLEPAGE
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
\hbox{}%
\thispagestyle{empty}%
\newpage%
\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

% FIGURES
\renewcommand{\topfraction}{1}  % max fraction of floats at top
\renewcommand{\bottomfraction}{1} % max fraction of floats at bottom
% Parameters for TEXT pages (not float pages):
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}     % 2 may work better
\setcounter{dbltopnumber}{2}    % for 2-column pages
\renewcommand{\dbltopfraction}{0.9} % fit big float above 2-col. text
\renewcommand{\textfraction}{0.07}  % allow minimal text w. figs
% Parameters for FLOAT pages (not text pages):
\renewcommand{\floatpagefraction}{0.7}  % require fuller float pages
% N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dblfloatpagefraction}{0.7} % require fuller float pages

% % CLAP
% \def\clap#1{\hbox to 0pt{\hss#1\hss}}
% \def\mathllap{\mathpalette\mathllapinternal}
% \def\mathrlap{\mathpalette\mathrlapinternal}
% \def\mathclap{\mathpalette\mathclapinternal}
% \def\mathllapinternal#1#2{\llap{$\mathsurround=0pt#1{#2}$}}
% \def\mathrlapinternal#1#2{\rlap{$\mathsurround=0pt#1{#2}$}}
% \def\mathclapinternal#1#2{\clap{$\mathsurround=0pt#1{#2}$}}

% % CPV
% \def\Xint#1{\mathchoice
% {\XXint\displaystyle\textstyle{#1}}%
% {\XXint\textstyle\scriptstyle{#1}}%
% {\XXint\scriptstyle\scriptscriptstyle{#1}}%
% {\XXint\scriptscriptstyle\scriptscriptstyle{#1}}%
% \!\int}
% \def\XXint#1#2#3{{\setbox0=\hbox{$#1{#2#3}{\int}$}
% \vcenter{\hbox{$#2#3$}}\kern-.5\wd0}}
% \def\ddashint{\Xint=}
% \def\dashint{\Xint-}

% % VEC
% \def\vec#1{{\bf\bm{#1}}}

% % DTILDE
% \def\dtilde#1{\mathrlap{\rlap{\raise1.2pt\hbox{$\mathsurround=0pt%
% \tilde{\phantom{\hbox{$#1$}}}$}}\tilde{\phantom{\hbox{$#1$}}}}#1}

% % UBAR
% \def\ubar#1{\mathrlap{\rlap{\hbox{$\mbox{\rule{-0.1pt}{0pt}%
%                     \mathsurround=0pt\b{\phantom{\hbox{$#1$}}}}$}}}{#1}}

% % ORPHANS AND WIDOWS
% \clubpenalty=9999
% \widowpenalty=9999

% % HYPHENATION
% \hyphenpenalty=5000
% \tolerance=1500
